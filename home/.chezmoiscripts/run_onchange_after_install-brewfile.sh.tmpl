#!/bin/sh

# This script runs whenever the Brewfile changes
# It will install/update all Homebrew dependencies

# Brewfile hash: {{ include (joinPath .xdg.configHome "Brewfile") | sha256sum }}

echo "üç∫ Brewfile changed, running brew bundle install..."

# Use XDG_CONFIG_HOME at runtime, with fallback to match chezmoi's default
BREWFILE_PATH="${XDG_CONFIG_HOME:-{{.xdg.configHome}}}/Brewfile"

# Run brew bundle install to install/update dependencies
if command -v brew &> /dev/null; then
    brew bundle install --file="$BREWFILE_PATH"
    echo "‚úÖ Homebrew dependencies updated successfully"
else
    echo "‚ùå Homebrew not found. Please install Homebrew first."
    exit 1
fi 